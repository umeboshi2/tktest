{"version":3,"sources":["webpack:///./~/tbirds/src/main-router.coffee","webpack:///./~/tbirds/src/top-app.coffee","webpack:///./client/applets async ^\\.\\/.*\\/main$","webpack:///./~/tbirds/src/base-tkapp-config.coffee","webpack:///./~/tbirds/src/messages.coffee","webpack:///./~/tbirds/src/tklayout.coffee","webpack:///./~/tbirds/src/tkmessages.coffee","webpack:///./~/tbirds/src/tknavbar.coffee"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["Marionette = require 'backbone.marionette'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\n# FIXME\n# applets/appname/main needs to be resolvable\n# by using webpack resolve alias\n\n# Object to contain registered applets\n# Using this prevents a loop when a approute\n# is requested but not matched in an AppRouter\n# Unless the AppRouter has a match for the requested\n# approute, the main router will try to load the\n# AppRouter again, causing a loop.\nregistered_apps = {}\n\n# FIXME\n# This isn't being used currently.  This is here\n# when the code develops to the point of being\n# able to remove unused child apps to save memory.\nMainChannel.reply 'main:applet:unregister', (appname) ->\n  delete registered_apps[appname]\n\nMainChannel.reply 'main:applet:register', (appname) ->\n  registered_apps[appname] = true\n\nclass RequireController extends Marionette.Object\n  _route_applet: (applet) ->\n    MainChannel.request \"applet:#{applet}:route\"\n\n  loadFrontDoor: ->\n    config = MainChannel.request 'main:app:config'\n    appname = config?.frontdoorApplet or 'frontdoor'\n    handler = System.import \"applets/#{appname}/main\"\n    if __DEV__\n      console.log \"Frontdoor system.import\", appname\n    handler.then (Applet) =>\n      applet = new Applet\n      MainChannel.request 'main:applet:register', appname\n      applet.start()\n      Backbone.history.start() unless Backbone.history.started\n      if __DEV__\n        hash = window.location.hash\n        console.log \"History Started at\", hash\n      \n  _handle_route: (appname, suffix) ->\n    if __DEV__\n      console.log \"_handle_route\", appname, suffix\n    config = MainChannel.request 'main:app:config'\n    if not appname\n      console.warn \"No applet recognized\", appname\n      appname = 'frontdoor'\n    if appname in Object.keys config.appletRoutes\n      appname = config.appletRoutes[appname]\n      console.log \"Using defined appletRoute\", appname\n    if appname in Object.keys registered_apps\n      throw new Error \"Unhandled applet path ##{appname}/#{suffix}\"\n    handler = System.import \"applets/#{appname}/main\"\n    if __DEV__\n      console.log \"system.import\", appname\n    handler.then (Applet) =>\n      applet = new Applet\n      MainChannel.request 'main:applet:register', appname\n      applet.start()\n      Backbone.history.loadUrl()\n    .catch (err) ->\n      if err.message.startsWith 'Cannot find module'\n        MessageChannel.request 'warning', \"Bad route #{appname}, #{suffix}!!\"\n      # catch this here for initial page load with invalid\n      # subpath\n      else if err.message.startsWith 'Unhandled applet'\n        MessageChannel.request 'warning', err.message\n      else\n        throw err\n      \n  routeApplet: (applet, href) ->\n    try\n      @_handle_route applet, href\n    catch err\n      if err.message.startsWith 'Unhandled applet'\n        MessageChannel.request 'warning', err.message\n        \nclass MainRouter extends Marionette.AppRouter\n  appRoutes:\n    ':applet' : 'routeApplet'\n    ':applet/*path': 'routeApplet'\n\n  onRoute: (name, path, args) ->\n    if __DEV__\n      console.log \"MainRouter.onRoute\", name, path, args\n    \nMainChannel.reply 'main:app:route', () ->\n  controller = new RequireController\n  router = new MainRouter\n    controller: controller\n  MainChannel.reply 'main-controller', ->\n    controller\n  MainChannel.reply 'main-router', ->\n    router\n    \nmodule.exports =\n  RequireController: RequireController\n  MainRouter: MainRouter\n  \n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/main-router.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\ntc = require 'teacup'\n\nMessagesApp = require './tkmessages'\nNavbarApp = require './tknavbar'\n  \nMainChannel = Backbone.Radio.channel 'global'\nclass TopApp extends Toolkit.App\n  onBeforeStart: ->\n    appConfig = @options.appConfig\n    # FIXME - test for region class\n    @setRegion new Marionette.Region el: appConfig.appRegion\n    #console.log \"TopApp region set to\", @getRegion()\n    if appConfig.useMessages\n      messagesApp = @addChildApp 'messages',\n        AppClass: MessagesApp\n        startWithParent: true\n        ,\n        parentApp: @\n    if appConfig.useNavbar\n      navbarApp = @addChildApp 'navbar',\n        AppClass: NavbarApp\n        startWithParent: true\n        appConfig: appConfig\n        ,\n        parentApp: @\n        \n  initPage: ->\n    appConfig = @options.appConfig\n    AppLayout = appConfig.layout\n    layoutOpts = appConfig.layoutOptions\n    layout = new AppLayout appConfig.layoutOptions\n    @showView layout    \n\n  onStart: ->\n    # build main page layout\n    @initPage()\n    if @getState 'startHistory'\n      # FIXME we need something better\n      # we seem to be required to, at minimum, load\n      # the frontdoor and handle the \"empty\" route\n      c = MainChannel.request 'main-controller'\n      c.loadFrontDoor()\n      \nmodule.exports = TopApp\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/top-app.coffee","var map = {\n\t\"./bumblr/main\": [\n\t\t126,\n\t\t2\n\t],\n\t\"./frontdoor/main\": [\n\t\t127,\n\t\t0\n\t],\n\t\"./hubby/main\": [\n\t\t128,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nmodule.exports = webpackAsyncContext;\nwebpackAsyncContext.id = 38;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/applets async ^\\.\\/.*\\/main$\n// module id = 38\n// module chunks = 3","MainPageLayout = require './tklayout'\n\nmodule.exports =\n  # This is the html element to attach\n  # the app.  This is to be marionette Region\n  appRegion: 'body'\n  # This is a marionette view with regions\n  layout: MainPageLayout\n  # here you can set options to be passed\n  # to the layout\n  layoutOptions: {}\n  # set this to false if you don't need\n  # messages\n  useMessages: true\n  # set useNavbar to false to skip\n  # using a navbar in the app\n  useNavbar: true\n  # this is the brand entry for the navbar\n  brand:\n    label: 'Tk-Test'\n    url: '#'\n  # applet to be used for frontdoor\n  # \n  frontdoorApplet: 'frontdoor'\n\n  # Does the application have a user?\n  # If this is true, a userMenuApp must be set\n  # to a toolkit App\n  hasUser: false\n\n  # If there is a user, provide a user menu app\n  userMenuApp: undefined\n  \n  # if needLogin is true, frontdoorApplet should\n  # provide a #frontdoor/login route which will\n  # be displayed by default\n  needLogin: false\n\n  # the url for login\n  loginUrl: '/#frontdoor/login'\n  guestUserName: 'Guest'\n  \n  # navbar entries is an array of objects\n  navbarEntries: []\n  # appletRoutes lets you place\n  # the applet name as a property\n  # with the applet directory name\n  # as a value.  The AppRouter should\n  # respond to property prefixes urls.\n  appletRoutes:\n    pages: 'frontdoor'\n    \n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/base-tkapp-config.coffee","Backbone = require 'backbone'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\nclass BaseMessage extends Backbone.Model\n  defaults:\n    level: 'info'\n  \nclass BaseMessageCollection extends Backbone.Collection\n  model: BaseMessage\n\nmain_message_collection = new BaseMessageCollection\nMessageChannel.reply 'messages', ->\n  main_message_collection\n\nadd_message = (msg, level, icon=false, delay=6000) =>\n  message = new BaseMessage\n    content: msg\n    level: level\n    icon: icon\n  ## FIXME make delay configurable\n  #delay = 6000\n  unless level is 'danger'\n    destroy = -> main_message_collection.remove message\n    setTimeout destroy, delay\n  main_message_collection.add message\n  \nMessageChannel.reply 'display-message', (msg, lvl='info', icon=false) =>\n  console.warn 'icon', icon\n  add_message msg, lvl, icon\n\nfor level in ['success', 'info', 'warning', 'danger']\n  do (level) ->\n    MessageChannel.reply level, (msg, icon=false) =>\n      add_message msg, level, icon\n      \n\nMessageChannel.reply 'delete-message', (model) =>\n  main_message_collection.remove model\n\nmodule.exports =\n  BaseMessageCollection: BaseMessageCollection\n  \n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/messages.coffee","Marionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\ntc = require 'teacup'\n\nclass BootstrapModalRegion extends Marionette.Region\n  el: '#modal'\n  backdrop: false\n  \n  getEl: (selector) ->\n    $el = $ selector\n    $el.attr 'class', 'modal'\n    $el\n    \n  show: (view) ->\n    super view\n    @$el.modal\n      backdrop: @backdrop\n    @$el.modal 'show'\n\nclass MainPageLayout extends Marionette.View\n  template: tc.renderable () -> \n    tc.div '#navbar-view-container'\n    tc.div \".container-fluid\", ->\n      tc.div '.row', ->\n        tc.div '.col-sm-10.col-sm-offset-1', ->\n          tc.div '#messages'\n      tc.div '#applet-content.row'\n    tc.div '#footer'\n    tc.div '#modal'\n\n  regions:\n    messages: '#messages'\n    navbar: '#navbar-view-container'\n    modal: BootstrapModalRegion\n    applet: '#applet-content'\n    footer: '#footer'\n    \nmodule.exports = MainPageLayout\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/tklayout.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\ntc = require 'teacup'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\nrequire './messages'\n\nmessage_box = tc.renderable (msg) ->\n  lvl = msg.level\n  if lvl == 'error'\n    lvl = 'danger'\n  tc.div \".alert.alert-#{lvl}\", ->\n    tc.button '.close', type:'button', 'aria-hidden': true, ->\n      tc.raw '&times;'\n    if msg.icon\n      tc.span \".glyphicon.glyphicon-#{msg.icon}\"\n    tc.text msg.content\n    \nclass MessageView extends Marionette.View\n  template: message_box\n  ui:\n    close_button: 'button.close'\n  events:\n    'click @ui.close_button': 'destroy_message'\n  destroy_message: ->\n    MessageChannel.request 'delete-message', @model\n    \nclass MessagesView extends Marionette.CollectionView\n  childView: MessageView\n\nclass MessagesApp extends Toolkit.App\n  onBeforeStart: ->\n    @collection = MessageChannel.request 'messages'\n    @setRegion @options.parentApp.getView().getRegion 'messages'\n    \n  onStart: ->\n    @initPage()\n\n  initPage: ->\n    view = new MessagesView\n      collection: @collection\n    @showView view\n\nmodule.exports = MessagesApp\n  \n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/tkmessages.coffee","$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\ntc = require 'teacup'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\nclass NavbarEntry extends Backbone.Model\n  defaults:\n    label: 'App Label'\n    url: '#app'\n    single_applet: false\n    applets: []\n    urls: []\n    \nclass NavbarEntryCollection extends Backbone.Collection\n  model: NavbarEntry\n\nnavbar_entry_collection = new NavbarEntryCollection\nMainChannel.reply 'navbar-entries', ->\n  navbar_entry_collection\n\nMainChannel.reply 'new-navbar-entry', ->\n  new NavbarEntry\n\nMainChannel.reply 'add-navbar-entry', (atts) ->\n  navbar_entry_collection.add atts\n  \nMainChannel.reply 'add-navbar-entries', (olist) ->\n  navbar_entry_collection.add olist\n\n##################################################\n# we may remove the channel stuff later, or use it\n##################################################\n\n  \nnavbar_collapse_button  = tc.renderable (target) ->\n  tc.button '.navbar-toggle', type:'button', 'data-toggle':'collapse',\n  'data-target': \"##{target}\", ->\n      tc.span '.sr-only', 'Toggle Navigation'\n      tc.span '.icon-bar'\n      tc.span '.icon-bar'\n      tc.span '.icon-bar'\n\ndropdown_toggle = tc.component (selector, attrs, renderContents) ->\n  tc.a \"#{selector}.dropdown-toggle\", href:attrs.href,\n  'data-toggle':'dropdown', renderContents\n\nnav_pt_content = tc.renderable (appmodel) ->\n  tc.div \".#{appmodel.container or 'container'}\", ->\n    tc.div '.navbar-header', ->\n      navbar_collapse_button 'navbar-view-collapse'\n      tc.a '.navbar-brand', href:'#', 'TKTest'\n    tc.div '#navbar-view-collapse.collapse.navbar-collapse', ->\n      tc.ul '.nav.navbar-nav.nav-pills', ->\n      tc.ul '#user-menu.nav.navbar-nav.navbar-right'\n      tc.div '#form-search-container'\n\nnav_pt = tc.renderable (appmodel) ->\n  tc.nav '#navbar-view.navbar.navbar-static-top.navbar-default',\n  xmlns:'http://www.w3.org/1999/xhtml', 'xml:lang':'en',\n  role:'navigation', ->\n    tc.div '.container', ->\n      tc.div '.navbar-header', ->\n        navbar_collapse_button 'navbar-view-collapse'\n        tc.a '.navbar-brand', href:'#', 'TkTest'\n      tc.div '#navbar-view-collapse.collapse.navbar-collapse'\n\ndropdown_entry = tc.renderable (entry) ->\n  tc.a '.dropdown-toggle', role:'button', 'data-toggle':'dropdown', ->\n    tc.text entry.label\n    tc.b '.caret'\n  tc.ul '.dropdown-menu', ->\n    for link in entry.menu\n      tc.li ->\n        tc.a '.navbar-entry', href:link.url, link.label\n\nsingle_entry = tc.renderable (entry) ->\n  tc.a '.navbar-entry', href:entry.url, entry.label\n      \nclass NavbarEntryView extends Marionette.View\n  model: NavbarEntry\n  tagName: 'li'\n  className: ->\n    if @model.has 'menu' then 'dropdown' else undefined\n  template: tc.renderable (model) ->\n    if model?.menu\n      dropdown_entry model\n    else\n      single_entry model\n  ui:\n    entry: '.navbar-entry'\n  triggers:\n    'click @ui.entry': 'click:entry'\n  set_active: ->\n    @$el.addClass 'active'\n  unset_active: ->\n    @$el.removeClass 'active'\n    # FIXME triggering click:entry\n    # seems to leave dropdown open\n    # this closes the navbar menu\n    @$el.removeClass 'open'\n    \n    \nclass NavbarEntryCollectionView extends Marionette.CollectionView\n  tagName: 'ul'\n  className: 'nav navbar-nav nav-pills'\n  childView: NavbarEntryView\n  setAllInactive: ->\n    @children.each (view) ->\n      view.unset_active()\n      \n  onChildviewClickEntry: (cview, event) ->\n    #console.log \"HERE IS MORE STUFF\", event\n    @setAllInactive()\n    cview.set_active()\n    @navigateOnClickEntry cview, event\n    \n  navigateOnClickEntry: (cview, event) ->\n    target = event.target\n    # look at href and go there maybe?\n    href = $(target).attr 'href'\n    if href.split('/')[0] == ''\n      window.location = href\n    else\n      router = MainChannel.request 'main-router'\n      router.navigate href, trigger: true\n      \n\nclass NavbarEntriesView extends Marionette.View\n  regions:\n    list: '#navbar-entries'\n    userMenu: '#user-menu'\n    search: '#form-search-container'\n  onRender: ->\n    view = new NavbarEntryCollectionView\n      collection: @collection\n    @showChildView 'list', view\n  template: tc.renderable (model) ->\n    tc.div '#navbar-view-collapse.collapse.navbar-collapse', ->\n      tc.div '#navbar-entries'\n      tc.ul '#user-menu.nav.navbar-nav.navbar-right'\n      tc.div '#form-search-container'\n  setAllInactive: ->\n    view = @getChildView 'list'\n    view.setAllInactive()\n    \n    \nclass NavbarHeaderView extends Marionette.View\n  template: tc.renderable (model) ->\n    navbar_collapse_button 'navbar-view-collapse'\n    tc.a '.navbar-brand', href:model.url, model.label\n  ui:\n    brand: '.navbar-brand'\n  triggers:\n    'click @ui.brand': 'click:brand'\n    \n    \nclass BootstrapNavBarView extends Marionette.View\n  template: tc.renderable (model) ->\n    tc.nav '#navbar-view.navbar.navbar-static-top.navbar-default',\n    xmlns:'http://www.w3.org/1999/xhtml', 'xml:lang':'en',\n    role:'navigation', ->\n      tc.div '.container', ->\n        tc.div '.navbar-header'\n        tc.div '#navbar-entries'\n  regions:\n    header: '.navbar-header'\n    usermenu: '#user-menu'\n    mainmenu: '#main-menu'\n    entries: '#navbar-entries'\n  onRender: ->\n    eview = new NavbarEntriesView\n      collection: new Backbone.Collection @model.get 'navbarEntries'\n    @showChildView 'entries', eview\n    hview = new NavbarHeaderView\n      model: new Backbone.Model @model.get 'brand'\n    @showChildView 'header', hview\n    \n  onChildviewClickBrand: (view, event) ->\n    eview = @getChildView 'entries'\n    eview.setAllInactive()\n    @navigateOnClickEntry view, event\n    \n  navigateOnClickEntry: (cview, event) ->\n    console.log \"Brand clicked\"\n    target = event.target\n    console.log \"Target\", target\n    # look at href and go there maybe?\n    href = $(target).attr 'href'\n    if href.split('/')[0] == ''\n      window.location = href\n    else\n      router = MainChannel.request 'main-router'\n      router.navigate href, trigger: true\n      \n\nclass NavbarApp extends Toolkit.App\n  onBeforeStart: ->\n    console.log 'NavbarApp options', @options\n    appConfig = @options.appConfig\n    region = @options.parentApp.getView().getRegion 'navbar'\n    @setRegion region\n    if appConfig.hasUser\n      userMenuApp = @addChildApp 'user-menu',\n        AppClass: appConfig.userMenuApp\n        startWithParent: true\n        appConfig: appConfig\n        ,\n        parentApp: @\n        \n  onStart: ->\n    # build main page layout\n    @initPage()\n\n  initPage: ->\n    appConfig = @options.parentApp.options.appConfig\n    layout = new BootstrapNavBarView\n      model: new Backbone.Model appConfig\n    @showView layout\n\nmodule.exports = NavbarApp\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/tknavbar.coffee"],"sourceRoot":""}