{"version":3,"sources":["webpack:///./client/applets/frontdoor/main.coffee","webpack:///./~/tbirds/src/apputil.coffee","webpack:///./~/tbirds/src/regions.coffee","webpack:///./~/tbirds/src/templates/forms.coffee","webpack:///./~/tbirds/src/templates/layout.coffee","webpack:///./~/tbirds/src/views/layout.coffee","webpack:///./~/ms/index.js","webpack:///./~/tbirds/src/behaviors/show-initial-empty.coffee","webpack:///./~/tbirds/src/bootstrap_formview.coffee","webpack:///./~/tbirds/src/controllers.coffee","webpack:///./~/tbirds/src/tkapplet.coffee","webpack:///./~/tbirds/src/views/empty.coffee","webpack:///./~/backbone.validation/dist/backbone-validation-amd.js","webpack:///./~/tbirds/src/formview.coffee","webpack:///./~/tbirds/src/lscollection.coffee","webpack:///./client/applets/frontdoor/controller.coffee","webpack:///./client/applets/frontdoor/loginview.coffee","webpack:///./client/applets/frontdoor/views.coffee","webpack:///./client/static-documents.coffee","webpack:///./~/tbirds/src/collections.coffee","webpack:///./~/marked/lib/marked.js"],"names":[],"mappings":"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;AAOhD;;;;;;;gCACJ,YACE;IAAA,yBACE;MAAA,eAAe,uBAAf;KADF;;;gCAEF,WAAU,EAAE,CAAC,UAAH,CAAc;IACtB,EAAE,CAAC,GAAH,CAAO,MAAP,EAAe;aACb,EAAE,CAAC,GAAH,CAAQ,wCAAR;IADa,CAAf;WAEA,EAAE,CAAC,GAAH,CAAO,MAAP,EAAe;aACb,EAAE,CAAC,GAAH,CAAO,yCAAP;IADa,CAAf;EAHsB,CAAd;;gCAKV,UAAS;AACP;IAAA,SAAS,IAAI,OAAO,CAAC,eAAZ,CACP;MAAA,IAAI,eAAJ;KADO;IAET,MAAM,CAAC,WAAP,GAAqB,GAAG,MAAH;WACrB;MAAA,SAAS,MAAT;MACA,SAAS,eADT;;EAJO;;;;GATuB,QAAQ,CAAC,UAAU,CAAC;;AAgBtD,sBAAsB;;AACtB,MAAM,CAAC,OAAP,GACE;EAAA,qBAAqB,mBAArB;EACA,gBAAgB,cADhB;EAEA,qBAAqB,mBAFrB;EAGA,qBAAqB,mBAHrB;;;;;;;;;AC/CF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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,OAAO;;AAEP,8CAA8C,EAAE;AAChD;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,SAAS,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA,+EAA+E;;AAE/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8DAA8D;AAC9D,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,qFAAqF;AACrF,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,sCAAsC;AACtC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,mDAAmD,6BAA6B;AAChF;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,IAAI,OAAO,EAAE;;AAEzC;AACA,mDAAmD,GAAG,mFAAmF,GAAG;;AAE5I;AACA,yGAAyG,EAAE,kBAAkB,krBAAkrB,EAAE,kBAAkB,oFAAoF,EAAE,kBAAkB,2FAA2F,EAAE,kBAAkB,8GAA8G,EAAE,kBAAkB;AAC5pC;;;AAGA;AACA;;AAEA;AACA,QAAQ,EAAE;AACV;AACA,kBAAkB,EAAE;AACpB,oBAAoB,EAAE;AACtB,aAAa,EAAE,mCAAmC,EAAE;AACpD,aAAa,EAAE,gCAAgC,EAAE;AACjD,eAAe,EAAE,kBAAkB,EAAE,MAAM,EAAE;AAC7C,gBAAgB,EAAE,UAAU,EAAE;AAC9B,mBAAmB,EAAE,mBAAmB,EAAE;AAC1C,mBAAmB,EAAE,kBAAkB,EAAE;AACzC,qBAAqB,EAAE,kBAAkB,EAAE,MAAM,EAAE;AACnD,eAAe,EAAE,kBAAkB,EAAE;AACrC,iBAAiB,EAAE,sBAAsB,EAAE;AAC3C,iBAAiB,EAAE,kBAAkB,EAAE;AACvC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA,CAAC,G;;;;;;;ACjmBD;EAAA;;;;AAAA,IAAI,oBAAQ,EAAR;;AACJ,aAAa,oBAAQ,CAAR;;AACb,aAAa,oBAAQ,GAAR;;AAEP;;;EACS;;;IACX;IAEA,IAAC,SAAD,CAAU,IAAV,EAAgB,QAAhB,EAA0B,IAAC,sBAA3B;IACA,IAAC,SAAD,CAAU,IAAV,EAAgB,QAAhB,EAA0B,IAAC,aAA3B;IACA,IAAC,SAAD,CAAU,IAAV,EAAgB,mBAAhB,EAAqC,IAAC,QAAtC;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ACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA,YAAY,OAAO;AACnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D,+BAA+B,IAAI;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,GAAG;AACb;AACA,mCAAmC,GAAG;AACtC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,wBAAwB;AACxB,2BAA2B,GAAG;AAC9B,mCAAmC,GAAG;AACtC,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,8BAA8B;AAC/C,iBAAiB;AACjB;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,iBAAiB,6BAA6B;AAC9C;;AAEA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,kBAAkB;AACpD,wBAAwB;AACxB,wBAAwB;AACxB,0BAA0B;AAC1B,yBAAyB;AACzB;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,4BAA4B;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,UAAU,mBAAmB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD,qBAAqB,eAAe,EAAE;AACtC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA,CAAC","file":"0.js","sourcesContent":["Marionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\n\nController = require './controller'\n\nTkApplet = require 'tbirds/tkapplet'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nclass Router extends Marionette.AppRouter\n  appRoutes:\n    '': 'frontdoor'\n    'frontdoor': 'frontdoor'\n    'frontdoor/view': 'frontdoor'\n    'frontdoor/view/:name': 'view_page'\n    'frontdoor/login': 'show_login'\n    #FIXME\n    'pages/:name': 'view_page'\n    \nclass Applet extends TkApplet\n  Controller: Controller\n  Router: Router\n\n  onStop: ->\n    console.log \"(Child) Stopping frontdoor\", @.isRunning()\n    super()\n\nMainChannel.reply 'applet:frontdoor:route', () ->\n  console.warn \"Don't use applet:frontdoor:route\"\n  controller = new Controller MainChannel\n  router = new Router\n    controller: controller\n    \n      \nmodule.exports = Applet\n\n\n\n// WEBPACK FOOTER //\n// ./client/applets/frontdoor/main.coffee","$ = require 'jquery'\n_ = require 'underscore'\nBackbone = require 'backbone'\n\n\n\n#https://github.com/goodeggs/teacup-camel-to-kebab\ncamel_to_kebab = (str) ->\n  str.replace(/([A-Z])/g, ($1) -> \"-#{$1.toLowerCase()}\")\n\ncapitalize = (str) ->\n  str.charAt(0).toUpperCase() + str.slice(1)\n\ncreate_model = (collection, options) ->\n  model = collection.create()\n  for key, value of options\n    model.set key, value\n  collection.add model\n  collection.save()\n\ncreate_new_approuter = (channel, Router, Controller) ->\n  controller = new Controller\n  channel.reply 'main-controller', ->\n    controller\n  router = new Router\n    controller: controller\n  router\n  \nget_model = (collection, id) ->\n  model = collection.get id\n  if model is undefined\n    new collection.model\n      id: id\n  else\n    model\n  \nhandle_newlines = (str) ->\n  console.warn \"handle_newlines being replaced by newline_2_br\"\n  str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\n\nmake_field_input_ui = (fieldlist) ->\n  uiobject = {}\n  for field in fieldlist\n    uiobject[field] = \"input[name=\\\"#{field}\\\"]\"\n  return uiobject\n\nmake_json_post_settings = (url, data, type='POST') ->\n  settings =\n    type: type\n    url: url\n    data: JSON.stringify data\n    accepts: 'application/json'\n    contentType: 'application/json'\n  return settings\n\nmake_json_post = (url, data, type='POST') ->\n  settings = make_json_post_settings url, data, type\n  $.ajax settings\n\n# These are handlers to retrieve the colors\n# from the navbars, and are used to create\n# the default color for the fullcalendar\n# events.\nnavbar_color_handlers = (channel, selector) ->\n  channel.reply 'get-navbar-color', ->\n    navbar = $ selector\n    navbar.css 'color'\n  channel.reply 'get-navbar-bg-color', ->\n    navbar = $ selector\n    navbar.css 'background-color'\n    \n\nnavbar_set_active = (path) ->\n  path_top = path.split('/')[0]\n  # FIXME this should be attached to view or\n  # be a behavior\n  for li in $('#navbar-view li')\n    liq = $ li\n    liq.removeClass('active')\n    if path_top == liq.attr('appname')\n      liq.addClass('active')\n\nnavigate_to_url = (url) ->\n  if url.split('/')[0] == ''\n    window.location = url\n  else\n    r = new Backbone.Router\n    r.navigate url, trigger:true\n\nnewline_2_br = (str) ->\n  str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\n\nrandom_choice = (myArray) ->\n  index = Math.floor(Math.random() * myArray.length)\n  myArray[index]\n\nremove_trailing_slashes = (path) ->\n  path.replace /\\/$/, \"\"\n\n# FIXME: we really need the equivalent of pressing \"home\"\n# http://stackoverflow.com/questions/1144805/scroll-to-the-top-of-the-page-using-javascript-jquery\nscroll_top_fast = ()  ->\n  #$('html, body').animate {scrollTop: 0}, 'fast'\n  window.scrollTo 0,0\n  \nscroll_top_fast_jquery = ()  ->\n  $('html, body').animate {scrollTop: 0}, 'fast'\n\n# use polyfill for String.endsWith if needed\n#if not String.prototype?.endsWith\n#  String.prototype.endsWith = string_endswith\nstring_endswith = (searchString, position) ->\n  subjectString = @toString()\n  if typeof position != 'number' or !isFinite(position) or Math.floor(position) != position or position > subjectString.length\n    position = subjectString.length\n  position -= searchString.length\n  lastIndex = subjectString.indexOf(searchString, position)\n  lastIndex != -1 and lastIndex == position\n\nstring_startswith = (searchString, position) ->\n  position = position or 0\n  return @substr(position, searchString, position) == searchString\n  \n#if !String::startsWith\n#  String::startsWith = (searchString, position) ->\n#    position = position or 0\n#    @substr(position, searchString.length) == searchString\n\nmodule.exports =\n  camel_to_kebab: camel_to_kebab\n  capitalize: capitalize\n  create_model: create_model\n  create_new_approuter: create_new_approuter\n  get_model: get_model\n  handle_newlines: handle_newlines\n  make_field_input_ui: make_field_input_ui\n  make_json_post_settings: make_json_post_settings\n  make_json_post: make_json_post\n  navbar_color_handlers: navbar_color_handlers\n  navbar_set_active: navbar_set_active\n  navigate_to_url: navigate_to_url\n  random_choice: random_choice\n  remove_trailing_slashes: remove_trailing_slashes\n  scroll_top_fast: scroll_top_fast\n  scroll_top_fast_jquery: scroll_top_fast_jquery\n  string_endswith: string_endswith\n  string_startswith: string_startswith\n  \n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/apputil.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\nMainChannel = Backbone.Radio.channel 'global'\n\n\nclass SlideDownRegion extends Backbone.Marionette.Region\n  attachHtml: (view) ->\n    speed = if @slide_speed then @slide_speed else 'fast'\n    @$el.hide()\n    @$el.html view.el\n    @$el.slideDown speed\n\nclass BootstrapModalRegion extends Backbone.Marionette.Region\n  el: '#modal'\n  backdrop: false\n  \n  getEl: (selector) ->\n    $el = $ selector\n    $el.attr 'class', 'modal'\n    #$el.attr 'class', 'modal fade'\n    $el\n    \n  show: (view) ->\n    super view\n    @$el.modal\n      backdrop: @backdrop\n    @$el.modal 'show'\n      \nshow_modal = (view, backdrop=false) ->\n  modal_region = MainChannel.request 'main:app:get-region', 'modal'\n  modal_region.backdrop = backdrop\n  modal_region.show view\n\nmodule.exports =\n  BootstrapModalRegion: BootstrapModalRegion\n  show_modal: show_modal\n  SlideDownRegion: SlideDownRegion\n  # named\n  modal: BootstrapModalRegion\n  slideDown: SlideDownRegion\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/regions.coffee","tc = require 'teacup'\n\n{ capitalize } = require '../apputil'\n\n\n########################################\n# Form Templates\n########################################\nform_group_input_div = tc.renderable (data) ->\n  tc.div '.form-group', ->\n    tc.label '.control-label',\n      for:data.input_id\n      data.label\n    selector = \"##{data.input_id}.form-control\"\n    atts = data.input_attributes \n    input_type = tc.input\n    if data?.input_type\n      input_type = tc[data.input_type]\n      input_type selector, atts, ->\n        tc.text data?.content\n    else\n      input_type selector, atts\n\nmake_field_input = (field) ->\n  tc.renderable (model) ->\n    form_group_input_div\n      input_id: \"input_#{field}\"\n      label: capitalize field\n      input_attributes:\n        name: field\n        placeholder: field\n        value: model[field]\n    \nmake_field_textarea = (field) ->\n  tc.renderable (model) ->\n    form_group_input_div\n      input_id: \"input_#{field}\"\n      input_type: 'textarea'\n      label: capitalize field\n      input_attributes:\n        name: field\n        placeholder: field\n      content: model[field]\n\nmake_field_select = (field, optlist) ->\n  tc.renderable (model) ->\n    tc.div '.form-group', ->\n      tc.label '.control-label',\n        for:\"select_#{field}\"\n      capitalize field\n    tc.select '.form-control', name:\"select_#{field}\", ->\n      for opt in optlist\n        if model[field] is opt\n          tc.option selected:null, value:opt, opt\n        else\n          tc.option value:opt, opt\n          \nmake_login_form = (action='/login', method='POST') -> \n  tc.renderable (user) ->\n    tc.form\n      role:'form'\n      method: method\n      action: action, ->\n        form_group_input_div\n          input_id: 'input_username'\n          label: 'User Name'\n          input_attributes:\n            name: 'username'\n            placeholder: 'User Name'\n        form_group_input_div\n          input_id: 'input_password'\n          label: 'Password'\n          input_attributes:\n            name: 'password'\n            type: 'password'\n            placeholder: 'Type your password here....'\n        tc.button '.btn.btn-default', type:'submit', 'login'\n\nlogin_form = make_login_form()\n\nname_content_form = tc.renderable (model) ->\n  form_group_input_div\n    input_id: 'input_name'\n    label: 'Name'\n    input_attributes:\n      name: 'name'\n      placeholder: 'Name'\n  form_group_input_div\n    input_id: 'input_content'\n    input_type: tc.textarea\n    label: 'Content'\n    input_attributes:\n      name: 'content'\n      placeholder: '...'\n  tc.input '.btn.btn-default.btn-xs', type:'submit', value:'Add'\n\n########################################\nmodule.exports =\n  form_group_input_div: form_group_input_div\n  make_field_input: make_field_input\n  make_field_textarea: make_field_textarea\n  make_field_select: make_field_select\n  make_login_form: make_login_form\n  login_form: login_form\n  name_content_form: name_content_form\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/templates/forms.coffee","tc = require 'teacup'\n\n\n########################################\n# Layout Templates\n########################################\nBootstrapLayoutTemplate = tc.renderable () ->\n  tc.div '#main-navbar.navbar.navbar-default.navbar-fixed-top',\n  role:'navigation'\n  tc.div '.container-fluid', ->\n    tc.div '.row', ->\n      tc.div '#sidebar.col-sm-2'\n      tc.div '#main-content.col-sm-9'\n  tc.div '#footer'\n  tc.div '#modal'\n\nBootstrapNoGridLayoutTemplate = tc.renderable () ->\n  tc.div '#main-navbar.navbar.navbar-default.navbar-fixed-top',\n  role:'navigation'\n  #div '#header.listview-header'\n  tc.div '.main-layout', ->\n    tc.div '#sidebar'\n    tc.div '#main-content'\n  tc.div '#footer'\n  tc.div '#modal'\n\n_MainLayoutTemplate = tc.renderable (container) ->\n  tc.div '#navbar-view-container'\n  #tc.div '#editor-bar-container'\n  tc.div \".#{container}\", ->\n    tc.div '.row', ->\n      tc.div '.col-md-10', ->\n        tc.div '#messages'\n    tc.div '#applet-content.row'\n  tc.div '#footer'\n  tc.div '#modal'\n\nMainLayoutTemplate = ->\n  _MainLayoutTemplate 'container'\n\nMainFluidLayoutTemplate = ->\n  _MainLayoutTemplate 'container-fluid'\n  \n\nMainContentTemplate = tc.renderable (doc) ->\n  atts = doc.data.attributes\n  tc.article '.document-view.content', ->\n    tc.h1 atts.title\n    tc.p '.lead', atts.description\n    tc.div '.body', ->\n      tc.raw atts.body\n      \nmake_sidebar_template = (columns=3, size='sm', position='left') ->\n  tc.renderable () ->\n    if position is 'left'\n      tc.div \"#sidebar.col-#{size}-#{columns}.left-column\"\n    tc.div \"#main-content.col-#{size}-#{12 - columns}\"\n    if position is 'right'\n      tc.div \"#sidebar.col-#{size}-#{columns}.right-column\"\n\n########################################\nmodule.exports =\n  BootstrapLayoutTemplate: BootstrapLayoutTemplate\n  BootstrapNoGridLayoutTemplate: BootstrapNoGridLayoutTemplate\n  MainLayoutTemplate: MainLayoutTemplate\n  MainFluidLayoutTemplate: MainFluidLayoutTemplate\n  MainContentTemplate: MainContentTemplate\n  make_sidebar_template: make_sidebar_template\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/templates/layout.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nms = require 'ms'\n\nLayoutTemplates = require '../templates/layout'\nShowInitialEmptyContent = require '../behaviors/show-initial-empty'\n\nRegions = require '../regions'\n\nclass MainPageLayout extends Backbone.Marionette.View\n  template: LayoutTemplates.MainFluidLayoutTemplate\n  regions:\n    messages: '#messages'\n    navbar: '#navbar-view-container'\n    #modal: '#modal'\n    modal: Regions.BootstrapModalRegion\n    applet: '#applet-content'\n    footer: '#footer'\n    \n    \n    \nclass SidebarAppletLayout extends Backbone.Marionette.View\n  template: LayoutTemplates.make_sidebar_template()\n  regions:\n    sidebar: '#sidebar'\n    content: '#main-content'\n\n\nclass ToolbarAppletLayout extends Backbone.Marionette.View\n  behaviors:\n    ShowInitialEmptyContent:\n      behaviorClass: ShowInitialEmptyContent\n  template: tc.renderable () ->\n    tc.div '.row', ->\n      tc.div  '#main-toolbar.col-sm-6.col-sm-offset-3'\n    tc.div '.row', ->\n      tc.div '#main-content.col-sm-10.col-sm-offset-1'\n  regions: ->\n    region = new Regions.SlideDownRegion\n      el: '#main-content'\n    region.slide_speed = ms '.01s'\n    content: region\n    toolbar: '#main-toolbar'\n\nDefaultAppletLayout = SidebarAppletLayout    \nmodule.exports =\n  DefaultAppletLayout: DefaultAppletLayout\n  MainPageLayout: MainPageLayout\n  SidebarAppletLayout: SidebarAppletLayout\n  ToolbarAppletLayout: ToolbarAppletLayout\n  \n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/views/layout.coffee","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ms/index.js\n// module id = 135\n// module chunks = 0 1 2","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nEmptyView = require '../views/empty'\n\nclass ShowInitialEmptyContent extends Backbone.Marionette.Behavior\n  onDomRefresh: ->\n    view = new EmptyView\n    @view.showChildView 'content', view\n    \nmodule.exports = ShowInitialEmptyContent\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/behaviors/show-initial-empty.coffee","FormView = require './formview'\n\nclass BootstrapFormView extends FormView\n  valid: (view, attr, selector) =>\n    @$(\"[data-validation=#{attr}]\").parent()\n      .removeClass('has-error')\n      .addClass('has-success')\n\n  invalid: (view, attr, error, selector) =>\n    @failure(@model)\n    @$(\"[data-validation=#{attr}]\").parent()\n      .removeClass('has-success')\n      .addClass('has-error')\n\nmodule.exports = BootstrapFormView\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/bootstrap_formview.coffee","$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\n{ DefaultAppletLayout } = require './views/layout'\nUtil = require './apputil'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nclass BaseController extends Backbone.Marionette.Object\n  init_page: () ->\n    # do nothing\n  scroll_top: Util.scroll_top_fast\n  navigate_to_url: Util.navigate_to_url\n  navbar_set_active: Util.navbar_set_active\n\nclass MainController extends BaseController\n  layoutClass: DefaultAppletLayout\n  _get_applet: ->\n    app = MainChannel.request 'main:app:object'\n    app.getView().getRegion 'applet'\n    \n  setup_layout: ->\n    @layout = new @layoutClass\n    #console.log \"created layout\", @layout\n    applet = @_get_applet()\n    if applet.hasView()\n      #console.log \"applet has view\"\n      applet.empty()\n    applet.show @layout\n\n  # use this method to create a layout only if\n  # needed, making routing within the applet\n  # more efficient.\n  setup_layout_if_needed: ->\n    if @layout is undefined\n      #console.log 'layout is undefined'\n      @setup_layout()\n    else if @layout.isDestroyed()\n      #console.log 'layout is destroyed ------>', @layout\n      @setup_layout()\n    \n  \n  _get_region: (region) ->\n    @layout.getRegion region\n\n  _show_content: (view) ->\n    console.warn \"_show_content is deprecated\"\n    content = @_get_region 'content'\n    content.show view\n\n  _empty_sidebar: ->\n    sidebar = @_get_region 'sidebar'\n    sidebar.empty()\n    sidebar\n        \n  _make_sidebar: ->\n    console.warn \"_make_sidebar is deprecated\"\n    sidebar = @_empty_sidebar()\n    view = new @sidebarclass\n      model: @sidebar_model\n    sidebar.show view\n    \n  _show_view: (vclass, model) ->\n    view = new vclass\n      model: model\n    @layout.showChildView 'content', view\n\n  _load_view: (vclass, model, objname) ->\n    # FIXME\n    # presume \"id\" is only attribute there if length is 1\n    if model.isEmpty() or Object.keys(model.attributes).length is 1\n      response = model.fetch()\n      response.done =>\n        @_show_view vclass, model\n      response.fail =>\n        msg = \"Failed to load #{objname} data.\"\n        MessageChannel.request 'danger', msg\n    else\n      @_show_view vclass, model\n      \n    \nmodule.exports =\n  BaseController: BaseController\n  MainController: MainController\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/controllers.coffee","Marionette = require 'backbone.marionette'\nToolkit = require 'marionette.toolkit'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nclass TkApplet extends Toolkit.App\n  onBeforeStart: ->\n    controller = new @Controller\n    controller.applet = @\n    @router = new @Router\n      controller: controller\n\n  onStop: ->\n    console.log \"Stopping TkApplet\", @.isRunning()\n    \n      \nmodule.exports = TkApplet\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/tkapplet.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\n\nclass EmptyView extends Backbone.Marionette.View\n  template: tc.renderable ->\n    tc.div '.jumbotron', ->\n      tc.h1 ->\n        tc.text 'Loading ...'\n        tc.i '.fa.fa-spinner.fa-spin'\n    \n  \nmodule.exports = EmptyView\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/views/empty.coffee","// Backbone.Validation v0.7.1\r\n//\r\n// Copyright (c) 2011-2012 Thomas Pedersen\r\n// Distributed under MIT License\r\n//\r\n// Documentation and full license available at:\r\n// http://thedersen.com/projects/backbone-validation\r\n(function (factory) {\r\n  if (typeof exports === 'object') {\r\n    module.exports = factory(require('backbone'), require('underscore'));\r\n  } else if (typeof define === 'function' && define.amd) {\r\n    define(['backbone', 'underscore'], factory);\r\n  }\r\n}(function (Backbone, _) {\r\n  Backbone.Validation = (function(_){\r\n    'use strict';\r\n  \r\n    // Default options\r\n    // ---------------\r\n  \r\n    var defaultOptions = {\r\n      forceUpdate: false,\r\n      selector: 'name',\r\n      labelFormatter: 'sentenceCase',\r\n      valid: Function.prototype,\r\n      invalid: Function.prototype\r\n    };\r\n  \r\n  \r\n    // Helper functions\r\n    // ----------------\r\n  \r\n    // Formatting functions used for formatting error messages\r\n    var formatFunctions = {\r\n      // Uses the configured label formatter to format the attribute name\r\n      // to make it more readable for the user\r\n      formatLabel: function(attrName, model) {\r\n        return defaultLabelFormatters[defaultOptions.labelFormatter](attrName, model);\r\n      },\r\n  \r\n      // Replaces nummeric placeholders like {0} in a string with arguments\r\n      // passed to the function\r\n      format: function() {\r\n        var args = Array.prototype.slice.call(arguments),\r\n            text = args.shift();\r\n        return text.replace(/\\{(\\d+)\\}/g, function(match, number) {\r\n          return typeof args[number] !== 'undefined' ? args[number] : match;\r\n        });\r\n      }\r\n    };\r\n  \r\n    // Flattens an object\r\n    // eg:\r\n    //\r\n    //     var o = {\r\n    //       address: {\r\n    //         street: 'Street',\r\n    //         zip: 1234\r\n    //       }\r\n    //     };\r\n    //\r\n    // becomes:\r\n    //\r\n    //     var o = {\r\n    //       'address.street': 'Street',\r\n    //       'address.zip': 1234\r\n    //     };\r\n    var flatten = function (obj, into, prefix) {\r\n      into = into || {};\r\n      prefix = prefix || '';\r\n  \r\n      _.each(obj, function(val, key) {\r\n        if(obj.hasOwnProperty(key)) {\r\n          if (val && typeof val === 'object' && !(val instanceof Date || val instanceof RegExp)) {\r\n            flatten(val, into, prefix + key + '.');\r\n          }\r\n          else {\r\n            into[prefix + key] = val;\r\n          }\r\n        }\r\n      });\r\n  \r\n      return into;\r\n    };\r\n  \r\n    // Validation\r\n    // ----------\r\n  \r\n    var Validation = (function(){\r\n  \r\n      // Returns an object with undefined properties for all\r\n      // attributes on the model that has defined one or more\r\n      // validation rules.\r\n      var getValidatedAttrs = function(model) {\r\n        return _.reduce(_.keys(model.validation || {}), function(memo, key) {\r\n          memo[key] = void 0;\r\n          return memo;\r\n        }, {});\r\n      };\r\n  \r\n      // Looks on the model for validations for a specified\r\n      // attribute. Returns an array of any validators defined,\r\n      // or an empty array if none is defined.\r\n      var getValidators = function(model, attr) {\r\n        var attrValidationSet = model.validation ? model.validation[attr] || {} : {};\r\n  \r\n        // If the validator is a function or a string, wrap it in a function validator\r\n        if (_.isFunction(attrValidationSet) || _.isString(attrValidationSet)) {\r\n          attrValidationSet = {\r\n            fn: attrValidationSet\r\n          };\r\n        }\r\n  \r\n        // Stick the validator object into an array\r\n        if(!_.isArray(attrValidationSet)) {\r\n          attrValidationSet = [attrValidationSet];\r\n        }\r\n  \r\n        // Reduces the array of validators into a new array with objects\r\n        // with a validation method to call, the value to validate against\r\n        // and the specified error message, if any\r\n        return _.reduce(attrValidationSet, function(memo, attrValidation) {\r\n          _.each(_.without(_.keys(attrValidation), 'msg'), function(validator) {\r\n            memo.push({\r\n              fn: defaultValidators[validator],\r\n              val: attrValidation[validator],\r\n              msg: attrValidation.msg\r\n            });\r\n          });\r\n          return memo;\r\n        }, []);\r\n      };\r\n  \r\n      // Validates an attribute against all validators defined\r\n      // for that attribute. If one or more errors are found,\r\n      // the first error message is returned.\r\n      // If the attribute is valid, an empty string is returned.\r\n      var validateAttr = function(model, attr, value, computed) {\r\n        // Reduces the array of validators to an error message by\r\n        // applying all the validators and returning the first error\r\n        // message, if any.\r\n        return _.reduce(getValidators(model, attr), function(memo, validator){\r\n          // Pass the format functions plus the default\r\n          // validators as the context to the validator\r\n          var ctx = _.extend({}, formatFunctions, defaultValidators),\r\n              result = validator.fn.call(ctx, value, attr, validator.val, model, computed);\r\n  \r\n          if(result === false || memo === false) {\r\n            return false;\r\n          }\r\n          if (result && !memo) {\r\n            return validator.msg || result;\r\n          }\r\n          return memo;\r\n        }, '');\r\n      };\r\n  \r\n      // Loops through the model's attributes and validates them all.\r\n      // Returns and object containing names of invalid attributes\r\n      // as well as error messages.\r\n      var validateModel = function(model, attrs) {\r\n        var error,\r\n            invalidAttrs = {},\r\n            isValid = true,\r\n            computed = _.clone(attrs),\r\n            flattened = flatten(attrs);\r\n  \r\n        _.each(flattened, function(val, attr) {\r\n          error = validateAttr(model, attr, val, computed);\r\n          if (error) {\r\n            invalidAttrs[attr] = error;\r\n            isValid = false;\r\n          }\r\n        });\r\n  \r\n        return {\r\n          invalidAttrs: invalidAttrs,\r\n          isValid: isValid\r\n        };\r\n      };\r\n  \r\n      // Contains the methods that are mixed in on the model when binding\r\n      var mixin = function(view, options) {\r\n        return {\r\n  \r\n          // Check whether or not a value passes validation\r\n          // without updating the model\r\n          preValidate: function(attr, value) {\r\n            return validateAttr(this, attr, value, _.extend({}, this.attributes));\r\n          },\r\n  \r\n          // Check to see if an attribute, an array of attributes or the\r\n          // entire model is valid. Passing true will force a validation\r\n          // of the model.\r\n          isValid: function(option) {\r\n            var flattened = flatten(this.attributes);\r\n  \r\n            if(_.isString(option)){\r\n              return !validateAttr(this, option, flattened[option], _.extend({}, this.attributes));\r\n            }\r\n            if(_.isArray(option)){\r\n              return _.reduce(option, function(memo, attr) {\r\n                return memo && !validateAttr(this, attr, flattened[attr], _.extend({}, this.attributes));\r\n              }, true, this);\r\n            }\r\n            if(option === true) {\r\n              this.validate();\r\n            }\r\n            return this.validation ? this._isValid : true;\r\n          },\r\n  \r\n          // This is called by Backbone when it needs to perform validation.\r\n          // You can call it manually without any parameters to validate the\r\n          // entire model.\r\n          validate: function(attrs, setOptions){\r\n            var model = this,\r\n                validateAll = !attrs,\r\n                opt = _.extend({}, options, setOptions),\r\n                validatedAttrs = getValidatedAttrs(model),\r\n                allAttrs = _.extend({}, validatedAttrs, model.attributes, attrs),\r\n                changedAttrs = flatten(attrs || allAttrs),\r\n  \r\n                result = validateModel(model, allAttrs);\r\n  \r\n            model._isValid = result.isValid;\r\n  \r\n            // After validation is performed, loop through all changed attributes\r\n            // and call the valid callbacks so the view is updated.\r\n            _.each(validatedAttrs, function(val, attr){\r\n              var invalid = result.invalidAttrs.hasOwnProperty(attr);\r\n              if(!invalid){\r\n                opt.valid(view, attr, opt.selector);\r\n              }\r\n            });\r\n  \r\n            // After validation is performed, loop through all changed attributes\r\n            // and call the invalid callback so the view is updated.\r\n            _.each(validatedAttrs, function(val, attr){\r\n              var invalid = result.invalidAttrs.hasOwnProperty(attr),\r\n                  changed = changedAttrs.hasOwnProperty(attr);\r\n  \r\n              if(invalid && (changed || validateAll)){\r\n                opt.invalid(view, attr, result.invalidAttrs[attr], opt.selector);\r\n              }\r\n            });\r\n  \r\n            // Trigger validated events.\r\n            // Need to defer this so the model is actually updated before\r\n            // the event is triggered.\r\n            _.defer(function() {\r\n              model.trigger('validated', model._isValid, model, result.invalidAttrs);\r\n              model.trigger('validated:' + (model._isValid ? 'valid' : 'invalid'), model, result.invalidAttrs);\r\n            });\r\n  \r\n            // Return any error messages to Backbone, unless the forceUpdate flag is set.\r\n            // Then we do not return anything and fools Backbone to believe the validation was\r\n            // a success. That way Backbone will update the model regardless.\r\n            if (!opt.forceUpdate && _.intersection(_.keys(result.invalidAttrs), _.keys(changedAttrs)).length > 0) {\r\n              return result.invalidAttrs;\r\n            }\r\n          }\r\n        };\r\n      };\r\n  \r\n      // Helper to mix in validation on a model\r\n      var bindModel = function(view, model, options) {\r\n        _.extend(model, mixin(view, options));\r\n      };\r\n  \r\n      // Removes the methods added to a model\r\n      var unbindModel = function(model) {\r\n        delete model.validate;\r\n        delete model.preValidate;\r\n        delete model.isValid;\r\n      };\r\n  \r\n      // Mix in validation on a model whenever a model is\r\n      // added to a collection\r\n      var collectionAdd = function(model) {\r\n        bindModel(this.view, model, this.options);\r\n      };\r\n  \r\n      // Remove validation from a model whenever a model is\r\n      // removed from a collection\r\n      var collectionRemove = function(model) {\r\n        unbindModel(model);\r\n      };\r\n  \r\n      // Returns the public methods on Backbone.Validation\r\n      return {\r\n  \r\n        // Current version of the library\r\n        version: '0.7.1',\r\n  \r\n        // Called to configure the default options\r\n        configure: function(options) {\r\n          _.extend(defaultOptions, options);\r\n        },\r\n  \r\n        // Hooks up validation on a view with a model\r\n        // or collection\r\n        bind: function(view, options) {\r\n          var model = view.model,\r\n              collection = view.collection;\r\n  \r\n          options = _.extend({}, defaultOptions, defaultCallbacks, options);\r\n  \r\n          if(typeof model === 'undefined' && typeof collection === 'undefined'){\r\n            throw 'Before you execute the binding your view must have a model or a collection.\\n' +\r\n                  'See http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.';\r\n          }\r\n  \r\n          if(model) {\r\n            bindModel(view, model, options);\r\n          }\r\n          else if(collection) {\r\n            collection.each(function(model){\r\n              bindModel(view, model, options);\r\n            });\r\n            collection.bind('add', collectionAdd, {view: view, options: options});\r\n            collection.bind('remove', collectionRemove);\r\n          }\r\n        },\r\n  \r\n        // Removes validation from a view with a model\r\n        // or collection\r\n        unbind: function(view) {\r\n          var model = view.model,\r\n              collection = view.collection;\r\n  \r\n          if(model) {\r\n            unbindModel(view.model);\r\n          }\r\n          if(collection) {\r\n            collection.each(function(model){\r\n              unbindModel(model);\r\n            });\r\n            collection.unbind('add', collectionAdd);\r\n            collection.unbind('remove', collectionRemove);\r\n          }\r\n        },\r\n  \r\n        // Used to extend the Backbone.Model.prototype\r\n        // with validation\r\n        mixin: mixin(null, defaultOptions)\r\n      };\r\n    }());\r\n  \r\n  \r\n    // Callbacks\r\n    // ---------\r\n  \r\n    var defaultCallbacks = Validation.callbacks = {\r\n  \r\n      // Gets called when a previously invalid field in the\r\n      // view becomes valid. Removes any error message.\r\n      // Should be overridden with custom functionality.\r\n      valid: function(view, attr, selector) {\r\n        view.$('[' + selector + '~=\"' + attr + '\"]')\r\n            .removeClass('invalid')\r\n            .removeAttr('data-error');\r\n      },\r\n  \r\n      // Gets called when a field in the view becomes invalid.\r\n      // Adds a error message.\r\n      // Should be overridden with custom functionality.\r\n      invalid: function(view, attr, error, selector) {\r\n        view.$('[' + selector + '~=\"' + attr + '\"]')\r\n            .addClass('invalid')\r\n            .attr('data-error', error);\r\n      }\r\n    };\r\n  \r\n  \r\n    // Patterns\r\n    // --------\r\n  \r\n    var defaultPatterns = Validation.patterns = {\r\n      // Matches any digit(s) (i.e. 0-9)\r\n      digits: /^\\d+$/,\r\n  \r\n      // Matched any number (e.g. 100.000)\r\n      number: /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)(?:\\.\\d+)?$/,\r\n  \r\n      // Matches a valid email address (e.g. mail@example.com)\r\n      email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\r\n  \r\n      // Mathes any valid url (e.g. http://www.xample.com)\r\n      url: /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i\r\n    };\r\n  \r\n  \r\n    // Error messages\r\n    // --------------\r\n  \r\n    // Error message for the build in validators.\r\n    // {x} gets swapped out with arguments form the validator.\r\n    var defaultMessages = Validation.messages = {\r\n      required: '{0} is required',\r\n      acceptance: '{0} must be accepted',\r\n      min: '{0} must be greater than or equal to {1}',\r\n      max: '{0} must be less than or equal to {1}',\r\n      range: '{0} must be between {1} and {2}',\r\n      length: '{0} must be {1} characters',\r\n      minLength: '{0} must be at least {1} characters',\r\n      maxLength: '{0} must be at most {1} characters',\r\n      rangeLength: '{0} must be between {1} and {2} characters',\r\n      oneOf: '{0} must be one of: {1}',\r\n      equalTo: '{0} must be the same as {1}',\r\n      pattern: '{0} must be a valid {1}'\r\n    };\r\n  \r\n    // Label formatters\r\n    // ----------------\r\n  \r\n    // Label formatters are used to convert the attribute name\r\n    // to a more human friendly label when using the built in\r\n    // error messages.\r\n    // Configure which one to use with a call to\r\n    //\r\n    //     Backbone.Validation.configure({\r\n    //       labelFormatter: 'label'\r\n    //     });\r\n    var defaultLabelFormatters = Validation.labelFormatters = {\r\n  \r\n      // Returns the attribute name with applying any formatting\r\n      none: function(attrName) {\r\n        return attrName;\r\n      },\r\n  \r\n      // Converts attributeName or attribute_name to Attribute name\r\n      sentenceCase: function(attrName) {\r\n        return attrName.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(match, index) {\r\n          return index === 0 ? match.toUpperCase() : ' ' + match.toLowerCase();\r\n        }).replace('_', ' ');\r\n      },\r\n  \r\n      // Looks for a label configured on the model and returns it\r\n      //\r\n      //      var Model = Backbone.Model.extend({\r\n      //        validation: {\r\n      //          someAttribute: {\r\n      //            required: true\r\n      //          }\r\n      //        },\r\n      //\r\n      //        labels: {\r\n      //          someAttribute: 'Custom label'\r\n      //        }\r\n      //      });\r\n      label: function(attrName, model) {\r\n        return (model.labels && model.labels[attrName]) || defaultLabelFormatters.sentenceCase(attrName, model);\r\n      }\r\n    };\r\n  \r\n  \r\n    // Built in validators\r\n    // -------------------\r\n  \r\n    var defaultValidators = Validation.validators = (function(){\r\n      // Use native trim when defined\r\n      var trim = String.prototype.trim ?\r\n        function(text) {\r\n          return text === null ? '' : String.prototype.trim.call(text);\r\n        } :\r\n        function(text) {\r\n          var trimLeft = /^\\s+/,\r\n              trimRight = /\\s+$/;\r\n  \r\n          return text === null ? '' : text.toString().replace(trimLeft, '').replace(trimRight, '');\r\n        };\r\n  \r\n      // Determines whether or not a value is a number\r\n      var isNumber = function(value){\r\n        return _.isNumber(value) || (_.isString(value) && value.match(defaultPatterns.number));\r\n      };\r\n  \r\n      // Determines whether or not not a value is empty\r\n      var hasValue = function(value) {\r\n        return !(_.isNull(value) || _.isUndefined(value) || (_.isString(value) && trim(value) === ''));\r\n      };\r\n  \r\n      return {\r\n        // Function validator\r\n        // Lets you implement a custom function used for validation\r\n        fn: function(value, attr, fn, model, computed) {\r\n          if(_.isString(fn)){\r\n            fn = model[fn];\r\n          }\r\n          return fn.call(model, value, attr, computed);\r\n        },\r\n  \r\n        // Required validator\r\n        // Validates if the attribute is required or not\r\n        required: function(value, attr, required, model, computed) {\r\n          var isRequired = _.isFunction(required) ? required.call(model, value, attr, computed) : required;\r\n          if(!isRequired && !hasValue(value)) {\r\n            return false; // overrides all other validators\r\n          }\r\n          if (isRequired && !hasValue(value)) {\r\n            return this.format(defaultMessages.required, this.formatLabel(attr, model));\r\n          }\r\n        },\r\n  \r\n        // Acceptance validator\r\n        // Validates that something has to be accepted, e.g. terms of use\r\n        // `true` or 'true' are valid\r\n        acceptance: function(value, attr, accept, model) {\r\n          if(value !== 'true' && (!_.isBoolean(value) || value === false)) {\r\n            return this.format(defaultMessages.acceptance, this.formatLabel(attr, model));\r\n          }\r\n        },\r\n  \r\n        // Min validator\r\n        // Validates that the value has to be a number and equal to or greater than\r\n        // the min value specified\r\n        min: function(value, attr, minValue, model) {\r\n          if (!isNumber(value) || value < minValue) {\r\n            return this.format(defaultMessages.min, this.formatLabel(attr, model), minValue);\r\n          }\r\n        },\r\n  \r\n        // Max validator\r\n        // Validates that the value has to be a number and equal to or less than\r\n        // the max value specified\r\n        max: function(value, attr, maxValue, model) {\r\n          if (!isNumber(value) || value > maxValue) {\r\n            return this.format(defaultMessages.max, this.formatLabel(attr, model), maxValue);\r\n          }\r\n        },\r\n  \r\n        // Range validator\r\n        // Validates that the value has to be a number and equal to or between\r\n        // the two numbers specified\r\n        range: function(value, attr, range, model) {\r\n          if(!isNumber(value) || value < range[0] || value > range[1]) {\r\n            return this.format(defaultMessages.range, this.formatLabel(attr, model), range[0], range[1]);\r\n          }\r\n        },\r\n  \r\n        // Length validator\r\n        // Validates that the value has to be a string with length equal to\r\n        // the length value specified\r\n        length: function(value, attr, length, model) {\r\n          if (!hasValue(value) || trim(value).length !== length) {\r\n            return this.format(defaultMessages.length, this.formatLabel(attr, model), length);\r\n          }\r\n        },\r\n  \r\n        // Min length validator\r\n        // Validates that the value has to be a string with length equal to or greater than\r\n        // the min length value specified\r\n        minLength: function(value, attr, minLength, model) {\r\n          if (!hasValue(value) || trim(value).length < minLength) {\r\n            return this.format(defaultMessages.minLength, this.formatLabel(attr, model), minLength);\r\n          }\r\n        },\r\n  \r\n        // Max length validator\r\n        // Validates that the value has to be a string with length equal to or less than\r\n        // the max length value specified\r\n        maxLength: function(value, attr, maxLength, model) {\r\n          if (!hasValue(value) || trim(value).length > maxLength) {\r\n            return this.format(defaultMessages.maxLength, this.formatLabel(attr, model), maxLength);\r\n          }\r\n        },\r\n  \r\n        // Range length validator\r\n        // Validates that the value has to be a string and equal to or between\r\n        // the two numbers specified\r\n        rangeLength: function(value, attr, range, model) {\r\n          if(!hasValue(value) || trim(value).length < range[0] || trim(value).length > range[1]) {\r\n            return this.format(defaultMessages.rangeLength, this.formatLabel(attr, model), range[0], range[1]);\r\n          }\r\n        },\r\n  \r\n        // One of validator\r\n        // Validates that the value has to be equal to one of the elements in\r\n        // the specified array. Case sensitive matching\r\n        oneOf: function(value, attr, values, model) {\r\n          if(!_.include(values, value)){\r\n            return this.format(defaultMessages.oneOf, this.formatLabel(attr, model), values.join(', '));\r\n          }\r\n        },\r\n  \r\n        // Equal to validator\r\n        // Validates that the value has to be equal to the value of the attribute\r\n        // with the name specified\r\n        equalTo: function(value, attr, equalTo, model, computed) {\r\n          if(value !== computed[equalTo]) {\r\n            return this.format(defaultMessages.equalTo, this.formatLabel(attr, model), this.formatLabel(equalTo, model));\r\n          }\r\n        },\r\n  \r\n        // Pattern validator\r\n        // Validates that the value has to match the pattern specified.\r\n        // Can be a regular expression or the name of one of the built in patterns\r\n        pattern: function(value, attr, pattern, model) {\r\n          if (!hasValue(value) || !value.toString().match(defaultPatterns[pattern] || pattern)) {\r\n            return this.format(defaultMessages.pattern, this.formatLabel(attr, model), pattern);\r\n          }\r\n        }\r\n      };\r\n    }());\r\n  \r\n    return Validation;\r\n  }(_));\r\n  \r\n  return Backbone.Validation;\r\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone.validation/dist/backbone-validation-amd.js\n// module id = 142\n// module chunks = 0 6","_ = require 'underscore'\nMarionette = require 'backbone.marionette'\nValidation = require 'backbone.validation'\n\nclass FormView extends Backbone.Marionette.View\n  constructor: ->\n    super\n\n    @listenTo this, 'render', @hideActivityIndicator\n    @listenTo this, 'render', @prepareModel\n    @listenTo this, 'save:form:success', @success\n    @listenTo this, 'save:form:failure', @failure\n\n  delegateEvents: (events)->\n    @ui = _.extend @_baseUI(), _.result(this, 'ui')\n    @events = _.extend @_baseEvents(), _.result(this, 'events')\n    super events\n\n  tagName: 'form'\n\n  _baseUI: ->\n    submit: 'input[type=\"submit\"]'\n    activityIndicator: '.spinner'\n\n  _baseEvents: ->\n    eventHash =\n      'change [data-validation]': @validateField\n      'blur [data-validation]':   @validateField\n      'keyup [data-validation]':  @validateField\n\n    eventHash[\"click #{@ui.submit}\"] = @processForm\n    eventHash\n\n  createModel: ->\n    throw new Error 'implement #createModel in your FormView subclass to return a Backbone model'\n\n  prepareModel: ->\n    @model = @createModel()\n    @setupValidation()\n\n  validateField: (e) ->\n    validation = $(e.target).attr('data-validation')\n    value = $(e.target).val()\n    if @model.preValidate validation, value\n      @invalid @, validation\n    else\n      @valid @, validation\n\n  processForm: (e) ->\n    e.preventDefault()\n    @showActivityIndicator()\n\n    @updateModel()\n    @saveModel()\n\n  updateModel: ->\n    throw new Error 'implement #updateModel in your FormView subclass to update the attributes of @model'\n\n  saveModel: ->\n    callbacks =\n      success: => @trigger 'save:form:success', @model\n      error: => @trigger 'save:form:failure', @model\n\n    @model.save {}, callbacks\n\n  success: (model) ->\n    @render()\n    @onSuccess(model)\n\n  onSuccess: (model) -> null\n\n  failure: (model) ->\n    @hideActivityIndicator()\n    @onFailure(model)\n\n  onFailure: (model) -> null\n\n  showActivityIndicator: ->\n    @ui.activityIndicator.show()\n    @ui.submit.hide()\n\n  hideActivityIndicator: ->\n    @ui.activityIndicator.hide()\n    @ui.submit.show()\n\n  setupValidation: ->\n    Backbone.Validation.unbind this\n    Backbone.Validation.bind this,\n      valid: @valid\n      invalid: @invalid\n\n  valid: (view, attr, selector) =>\n    @$(\"[data-validation=#{attr}]\")\n      .removeClass('invalid')\n      .addClass('valid')\n\n  invalid: (view, attr, error, selector) =>\n    @failure(@model)\n    @$(\"[data-validation=#{attr}]\")\n      .removeClass('valid')\n      .addClass('invalid')\n\nmodule.exports = FormView\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/formview.coffee","$ = require 'jquery'\n_ = require 'underscore'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nResourceChannel = Backbone.Radio.channel 'resources'\n\n\nclass BaseLocalStorageCollection extends Backbone.Collection\n  local_storage_key: null\n  initialize: () ->\n    #console.log \"initialize DocumentCollection\"\n    @fetch()\n    @on 'change', @save, @\n    \n  fetch: () ->\n    #console.log 'fetching documents'\n    docs = JSON.parse(localStorage.getItem(@local_storage_key)) || []\n    @set docs\n\n  # FIXME!\n  save: (collection) ->\n    #console.log 'saving documents'\n    localStorage.setItem(@local_storage_key, JSON.stringify(@toJSON()))\n    \n  \n  \nmodule.exports =\n  BaseLocalStorageCollection: BaseLocalStorageCollection\n  \n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/lscollection.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\n{ MainController } = require 'tbirds/controllers'\n{ login_form } = require 'tbirds/templates/forms'\n{ SlideDownRegion } = require 'tbirds/regions'\n\nrequire '../../static-documents'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nDocChannel = Backbone.Radio.channel 'static-documents'\n\ntc = require 'teacup'\n\nfrontdoor_template = tc.renderable () ->\n  tc.div '#main-content.col-sm-10.col-sm-offset-1'\n  \nclass FrontdoorLayout extends Backbone.Marionette.View\n  template: frontdoor_template\n  regions: ->\n    content: new SlideDownRegion\n      el: '#main-content'\n      speed: 'slow'\n  onBeforeDestroy: (view) ->\n    console.log \"FrontdoorLayout onBeforeDestroy!!!!\", view\n    console.log \"Determine what to do with child apps when changing\"\n    #controller = view.controller\n    #controller.applet.stop()\n    #controller.applet.destroy()\n    \n     \n\nclass Controller extends MainController\n  layoutClass: FrontdoorLayout\n\n  setup_layout_if_needed: ->\n    super()\n    @layout.controller = @\n    \n  _view_resource: (doc) ->\n    @setup_layout_if_needed()\n    { FrontDoorMainView } = require './views'\n    view = new FrontDoorMainView\n      model: doc\n    @layout.showChildView 'content', view\n\n  _view_login: ->\n    LoginView = require './loginview'\n    view = new LoginView\n    @layout.showChildView 'content', view\n\n  view_page: (name) ->\n    doc = DocChannel.request 'get-document', name\n    response = doc.fetch()\n    response.done =>\n      if not doc.get 'content'\n        doc.set 'content', '# Need a front page.'\n      @_view_resource doc\n    response.fail =>\n      MessageChannel.request 'danger', 'Failed to get document'\n      \n\n  frontdoor_needuser: ->\n    user = MainChannel.request 'current-user'\n    if user.has 'name'\n      @frontdoor_hasuser user\n    else\n      @show_login()\n      \n  show_login: ->\n    @setup_layout_if_needed()\n    @_view_login()\n    \n  frontdoor_hasuser: (user) ->\n    @default_view()\n\n  default_view: ->\n    @setup_layout_if_needed()\n    #@show_login()\n    @view_page 'README'\n      \n  frontdoor: ->\n    config = MainChannel.request 'main:app:config'\n    if config?.needLogin\n      @frontdoor_needuser()\n    else\n      @default_view()\n\nmodule.exports = Controller\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/applets/frontdoor/controller.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\n\n{ navigate_to_url\n  make_field_input_ui } = require 'tbirds/apputil'\n\n{ form_group_input_div } = require 'tbirds/templates/forms'\nBootstrapFormView = require 'tbirds/bootstrap_formview'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nghost_login_form =  tc.renderable (user) ->\n  form_group_input_div\n    input_id: 'input_username'\n    label: 'User Name'\n    input_attributes:\n      name: 'username'\n      placeholder: 'User Name'\n  form_group_input_div\n    input_id: 'input_password'\n    label: 'Password'\n    input_attributes:\n      name: 'password'\n      type: 'password'\n      placeholder: 'Type your password here....'\n  tc.input '.btn.btn-default', type:'submit', value:'login'\n  tc.div '.spinner.fa.fa-spinner.fa-spin'\n\n\nclass LoginView extends BootstrapFormView\n  template: ghost_login_form\n  fieldList: ['username', 'password']\n  ui: ->\n    uiobject = make_field_input_ui @fieldList\n    return uiobject\n\n  createModel: ->\n    new Backbone.Model\n\n  updateModel: ->\n    console.log 'updateModel called'\n    @model.set 'username', @ui.username.val()\n    @model.set 'password', @ui.password.val()\n\n  saveModel: ->\n    auth = MainChannel.request 'main:app:ghostauth'\n    console.log auth\n    username  = @model.get 'username'\n    password = @model.get 'password'\n    res = auth.access username, password\n    res.error =>\n      @trigger 'save:form:failure', @model\n    res.success =>\n      @trigger 'save:form:success', @model\n      \n  onSuccess: ->\n    navigate_to_url '/'\n    \n     \n    \nmodule.exports = LoginView\n\n\n\n// WEBPACK FOOTER //\n// ./client/applets/frontdoor/loginview.coffee","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nDefaultStaticDocumentTemplate = tc.renderable (doc) ->\n  tc.article '.document-view.content', ->\n    tc.div '.body', ->\n      tc.raw marked doc.content\n\n\nclass FrontDoorMainView extends Backbone.Marionette.View\n  template: DefaultStaticDocumentTemplate\n\nmodule.exports =\n  FrontDoorMainView: FrontDoorMainView\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/applets/frontdoor/views.coffee","$ = require 'jquery'\n_ = require 'underscore'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\n{ BaseLocalStorageCollection } = require 'tbirds/lscollection'\n{ BaseCollection } = require 'tbirds/collections'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nDocChannel = Backbone.Radio.channel 'static-documents'\n\nclass StaticDocument extends Backbone.Model\n  url: ->\n    basedir = \"/assets/documents\"\n    if @id == 'README'\n      basedir = ''\n    \"#{basedir}/#{@id}.md\"\n    \n  fetch: (options) ->\n    options = _.extend options || {},\n      dataType: 'text'\n    super options\n\n  parse: (response) ->\n    return content: response\n    \nclass StaticDocumentCollection extends BaseCollection\n  model: StaticDocument\n  \n\n  \nDocChannel.reply 'get-document', (name) ->\n  model = new StaticDocument\n    id: name\n\n\n  \nmodule.exports =\n  StaticDocument: StaticDocument\n  \n\n\n\n\n// WEBPACK FOOTER //\n// ./client/static-documents.coffee","Backbone = require 'backbone'\n\n\nclass BaseCollection extends Backbone.Collection\n  # wrap the parsing to retrieve the\n  # 'data' attribute from the json response\n  parse: (response) ->\n    return response.data\n\n  \nmodule.exports =\n  BaseCollection: BaseCollection\n\n\n\n// WEBPACK FOOTER //\n// ./~/tbirds/src/collections.coffee","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')\n  ('def', '\\\\n+(?=' + block.def.source + ')')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  ('def', block.def)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return '';\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {\n      return '';\n    }\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n\t// explicitly match decimal, hex, and named HTML entities \n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/g, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occured:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer,\n  xhtml: false\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/marked/lib/marked.js\n// module id = 189\n// module chunks = 0"],"sourceRoot":""}